# =========================================================================
# PEND Tech Stack - Production Environment
# =========================================================================
# Configuration for Production Deployment
# 
# ⚠️  CRITICAL SECURITY WARNINGS : 
# 1. Replace ALL REPLACE-WITH-* placeholders
# 2. Use strong, randomly generated passwords
# 3. Keep this file secure and never commit to Git
# 4. Rotate secrets regularly
# 5. Use a secrets manager (AWS Secrets Manager, HashiCorp Vault, etc.)
#
# Replace Placeholder Values
# =========================================================================

# -----------------------
# Version Configuration
# -----------------------
PYTHON_VERSION=3.13
NODE_VERSION=24
POSTGRES_VERSION=15
REDIS_VERSION=7

# -----------------------
# Database Configuration
# -----------------------
POSTGRES_DB=nexus_pend_prod
POSTGRES_USER=prod_user
POSTGRES_PASSWORD=CHANGEME-PRODUCTION-DB-PASSWORD

# ---------------------
# Django Configuration
# ---------------------
DJANGO_SETTINGS_MODULE=core.settings.production
DEBUG=False
SECRET_KEY=CHANGEME-PRODUCTION-SECRET-KEY
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,api.yourdomain.com

# ----------------
# Database URL
# ----------------
# Use Production Database Cluster Endpoint
DATABASE_URL=postgresql://prod_user:CHANGEME-PRODUCTION-PASSWORD@prod-db-cluster:5432/nexus_pend_prod

# --------------------
# Redis Configuration
# --------------------
# Use Production Redis Cluster
REDIS_URL=redis://prod-redis-cluster:6379/0

# ---------------------
# API URLs (Frontend)
# ---------------------
NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api/v1
NEXT_PUBLIC_GRAPHQL_URL=https://api.yourdomain.com/graphql
NEXT_PUBLIC_FASTAPI_URL=https://api.yourdomain.com/edge

# -----------------
# Application URLs
# -----------------
FRONTEND_URL=https://yourdomain.com
BACKEND_URL=https://api.yourdomain.com

# ------------------------------------
# Gunicorn Configuration (Production)
# ------------------------------------
# Calculation : (CPU Cores * 2) + 1
GUNICORN_WORKERS=9
GUNICORN_TIMEOUT=120
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=50

# ----------------------------------
# Celery Configuration (Production)
# ----------------------------------
CELERY_BROKER_URL=redis://prod-redis-cluster:6379/0
CELERY_RESULT_BACKEND=redis://prod-redis-cluster:6379/0
CELERY_CONCURRENCY=8

# ---------------------------------
# Email Configuration (Production)
# ---------------------------------
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=noreply@yourdomain.com
EMAIL_HOST_PASSWORD=CHANGEME-PRODUCTION-EMAIL-APP-PASSWORD
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# -------------------------------
# AWS Configuration (Production)
# -------------------------------
AWS_ACCESS_KEY_ID=YOUR-PRODUCTION-AWS-ACCESS-KEY-HERE
AWS_SECRET_ACCESS_KEY=YOUR-PRODUCTION-AWS-SECRET-KEY-HERE
AWS_STORAGE_BUCKET_NAME=nexus-pend-production-media
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=cdn.yourdomain.com
AWS_DEFAULT_ACL=private

# ----------------------------------
# Sentry Configuration (Production)
# ----------------------------------
SENTRY_DSN=YOUR-PRODUCTION-SENTRY-DSN-HERE
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# --------------------------------
# CORS Configuration (Production)
# --------------------------------
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://api.yourdomain.com

# ------------------
# JWT Configuration
# ------------------
JWT_ACCESS_TOKEN_LIFETIME=3600      # 1 Hour
JWT_REFRESH_TOKEN_LIFETIME=604800   # 7 Days
JWT_ROTATE_REFRESH_TOKENS=True
JWT_BLACKLIST_AFTER_ROTATION=True

# --------------------------
# File Upload Configuration
# --------------------------
MAX_UPLOAD_SIZE=5242880  # 5MB
ALLOWED_FILE_TYPES=.pdf,.jpg,.jpeg,.png,.doc,.docx

# ----------------------
# Logging Configuration
# ----------------------
LOG_LEVEL=WARNING
LOG_FORMAT=json
LOG_TO_FILE=True
LOG_FILE_PATH=/var/log/nexus_pend/application.log

# ---------------------------
# Feature Flags (Production)
# ---------------------------
ENABLE_API_DOCS=False
ENABLE_GRAPHQL_PLAYGROUND=False
ENABLE_ADMIN_PANEL=True
ENABLE_DEBUG_TOOLBAR=False

# ------------------------------------
# Security Configuration (Production)
# ------------------------------------
SECURE_SSL_REDIRECT=True
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Strict
CSRF_COOKIE_SECURE=True
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=Strict
X_FRAME_OPTIONS=DENY

# --------------------------------------
# Database Connection Pool (Production)
# --------------------------------------
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ---------------------------------
# Cache Configuration (Production)
# ---------------------------------
CACHE_TTL=3600
CACHE_MAX_ENTRIES=10000

# ---------------------------
# Rate Limiting (Production)
# ---------------------------
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=100

# ---------------------------
# Monitoring & Health Checks
# ---------------------------
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_DATABASE=True
HEALTH_CHECK_REDIS=True
HEALTH_CHECK_CELERY=True

# ---------------------
# Backup Configuration
# ---------------------
ENABLE_AUTO_BACKUP=True
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=nexus-pend-production-backups

# --------------------------------------------
# Multi-Tenant Configuration (If Applicable)
# --------------------------------------------
# ENABLE_MULTI_TENANCY=True
# TENANT_MODEL=tenants.Tenant
# TENANT_DOMAIN_MODEL=tenants.Domain

# ------------------
# CDN Configuration
# ------------------
# CDN_ENABLED=True
# CDN_DOMAIN=cdn.yourdomain.com

# --------------------------------------
# 3rd Party Integrations (Production)
# --------------------------------------
# STRIPE_API_KEY=REPLACE-WITH-STRIPE-PRODUCTION-KEY
# STRIPE_WEBHOOK_SECRET=REPLACE-WITH-STRIPE-WEBHOOK-SECRET
# GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
# FACEBOOK_PIXEL_ID=XXXXXXXXXXXXXXXXX