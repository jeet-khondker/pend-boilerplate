# ====================================================
# PEND Tech Stack - Staging Environment
# ====================================================
# Configuration for Staging / QA
# This Environment mirrors Production for Testing
# 
# IMPORTANT: Replace all REPLACE-WITH-* placeholders
# Replace Placeholder Values
# ====================================================

# ----------------------
# Version Configuration
# ----------------------
PYTHON_VERSION=3.13
NODE_VERSION=24
POSTGRES_VERSION=15
REDIS_VERSION=7

# -----------------------
# Database Configuration
# -----------------------
POSTGRES_DB=pend_staging
POSTGRES_USER=staging_user
POSTGRES_PASSWORD=CHANGEME-STAGING-DB-PASSWORD

# ---------------------
# Django Configuration
# ---------------------
DJANGO_SETTINGS_MODULE=core.settings.staging
DEBUG=False
SECRET_KEY=CHANGEME-STAGING-SECRET-KEY
ALLOWED_HOSTS=staging.yourdomain.com,staging-api.yourdomain.com

# ----------------
# Database URL
# ----------------
DATABASE_URL=postgresql://staging_user:CHANGEME-STAGING-PASSWORD@postgres:5432/pend_staging

# --------------------
# Redis Configuration
# --------------------
REDIS_URL=redis://redis:6379/0

# --------------------
# API URLs (Frontend)
# --------------------
NEXT_PUBLIC_API_URL=https://staging-api.yourdomain.com/api/v1
NEXT_PUBLIC_GRAPHQL_URL=https://staging-api.yourdomain.com/graphql
NEXT_PUBLIC_FASTAPI_URL=https://staging-api.yourdomain.com/edge

# ------------------
# Application URLs
# ------------------
FRONTEND_URL=https://staging.yourdomain.com
BACKEND_URL=https://staging-api.yourdomain.com

# ---------------------------------
# Gunicorn Configuration (Staging)
# ---------------------------------
GUNICORN_WORKERS=4
GUNICORN_TIMEOUT=90

# -------------------------------
# Celery Configuration (Staging)
# -------------------------------
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_CONCURRENCY=3

# ------------------------------
# Email Configuration (Staging)
# ------------------------------
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=staging@yourdomain.com
EMAIL_HOST_PASSWORD=CHANGEME-STAGING-EMAIL-APP-PASSWORD

# ----------------------------
# AWS Configuration (Staging)
# ----------------------------
AWS_ACCESS_KEY_ID=YOUR-STAGING-AWS-ACCESS-KEY-HERE
AWS_SECRET_ACCESS_KEY=YOUR-STAGING-AWS-SECRET-KEY-HERE
AWS_STORAGE_BUCKET_NAME=pend-staging-media
AWS_S3_REGION_NAME=us-east-1

# --------------------------------
# Sentry Configuration (Staging)
# --------------------------------
SENTRY_DSN=YOUR-STAGING-SENTRY-DSN-HERE
SENTRY_ENVIRONMENT=staging
SENTRY_TRACES_SAMPLE_RATE=0.5

# -----------------------------
# CORS Configuration (Staging)
# -----------------------------
CORS_ALLOWED_ORIGINS=https://staging.yourdomain.com,https://staging-api.yourdomain.com

# -------------------
# JWT Configuration
# -------------------
JWT_ACCESS_TOKEN_LIFETIME=3600      # 1 Hour
JWT_REFRESH_TOKEN_LIFETIME=86400    # 24 Hours

# ---------------------------
# File Upload Configuration
# ---------------------------
MAX_UPLOAD_SIZE=5242880  # 5MB
ALLOWED_FILE_TYPES=.pdf,.jpg,.jpeg,.png,.doc,.docx

# -----------------------
# Logging Configuration
# -----------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# ------------------------
# Feature Flags (Staging)
# ------------------------
ENABLE_API_DOCS=True
ENABLE_GRAPHQL_PLAYGROUND=True
ENABLE_ADMIN_PANEL=True
ENABLE_DEBUG_TOOLBAR=False

# -----------------------
# Security Configuration
# -----------------------
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# -----------------------------------
# Database Connection Pool (Staging)
# -----------------------------------
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10